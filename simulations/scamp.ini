[General]
# this is a module path! do not confuse with parameter paths.
# network = "oversim.underlay.simpleunderlay.SimpleUnderlayNetwork"
description = Scamp Overlay (SimpleUnderlayNetwork)
# sim-time-limit = 200s # stops  after this number of seconds 
# print-undisposed=false
# debug-on-errors=true

# Configure the churn
*.underlayConfigurator.churnGeneratorTypes = "oversim.common.NoChurn"
# *.underlayConfigurator.churnGeneratorTypes = "oversim.common.MyChurn"
**.targetOverlayTerminalNum = 4

# Node parameters
**.overlayType = "oversim.overlay.scamp.ScampOverlayModules"
**.tier1Type = "oversim.applications.pbft.PBFTApplicationModules"
**.partialView.maxSize = 3
# **.joinDelay = 0.65s
**.overlay*.scamp.joinDelay = 0.65s
**.heartbeatDelay = 5s
**.heartbeatTimeout = 10s
**.joinRetry = 3
**.joinRequestCopies = 3

*.churnGenerator*.useLease = false
*.churnGenerator*.stopSimulation = true # if true, set also the endSimulationInterval
*.churnGenerator*.endSimulationInterval = 100s # end the simulation after this amount of seconds (after start of the stability period)
*.churnGenerator*.leavers = 1000
*.churnGenerator*.joiners = 1000
*.churnGenerator*.churnInterval = 10s # it was 12, then 2
*.churnGenerator*.churnRate = 2
*.churnGenerator*.permanentNodes = 1 # number of permanent nodes, ranging from 0 to N. If 0, all the initial nodes can be substituted

**.pbft.blockCapacity = 10
**.pbft.k = 3
**.pbft.clientProb = 1
**.pbft.checkpointPeriod = 8
**.pbft.requestDelay = 5s
**.pbft.replyDelay = 3s ## new, before it was 3s
**.pbft.simDuration = 300

**.replicaState.f = 1

*.underlayConfigurator.gracefulLeaveDelay = 0s #### modified, originally 15
*.underlayConfigurator.gracefulLeaveProbability = 1 #### modified
**.overlay*.*.sendRpcResponseToLastHop = false # modified, it is true originally


*.globalObserver.globalStatistics.measureNetwInitPhase = true #modified, initially false
*.globalObserver.numGlobalFunctions = 1
*.globalObserver.globalFunctions[0].functionType = "oversim.overlay.scamp.ScampConnectivityModules"
*.globalObserver.globalFunctions[*].function.connectivityProbeInterval = 5s # remember to modify also in churn. If 0, the measurements are not done 



# Logging purposes
# record-eventlog = true # this saves logs in an external file 


[Config Scamp-NoChurn]
*.underlayConfigurator.churnGeneratorTypes = "oversim.common.NoChurn"


[Config Scamp-MyChurn]
# **.targetOverlayTerminalNum = ${N=10, 20..50 step 10}
**.targetOverlayTerminalNum = ${N=1000}
**.partialView.maxSize = ceil(log(${N}))
*.underlayConfigurator.churnGeneratorTypes = "oversim.common.MyChurn"
*.churnGenerator*.churnRate = ${cr=2, 4, 8, 16, 32, 64}
*.churnGenerator*.churnInterval = 2s # it was 12
**.joinDelay = 0.65s
*.churnGenerator*.leavers = 3000
*.churnGenerator*.joiners = 3000
*.churnGenerator*.permanentNodes = 0 # number of permanent nodes, ranging from 0 to N. If 0, all the initial nodes can be substituted
*.churnGenerator*.useLease = false
**.useCwhenLeaving = true


[Config test-4-no-churn]
*.underlayConfigurator.churnGeneratorTypes = "oversim.common.NoChurn"
**.targetOverlayTerminalNum = 4
**.pbft.blockCapacity = 10
**.pbft.k = 3
**.pbft.clientProb = 1
**.pbft.checkpointPeriod = 8
**.pbft.requestDelay = 5s
**.pbft.replyDelay = 10s 
**.pbft.simDuration = 200

[Config test-4-with-churn-2]
*.underlayConfigurator.churnGeneratorTypes = "oversim.common.MyChurn"
**.targetOverlayTerminalNum = 4
**.pbft.blockCapacity = 10
**.pbft.k = 3
**.pbft.clientProb = 1
**.pbft.checkpointPeriod = 8
**.pbft.requestDelay = 5s
**.pbft.replyDelay = 10s 
**.pbft.simDuration = 200

*.churnGenerator*.leavers = 6
*.churnGenerator*.joiners = 6
*.churnGenerator*.churnInterval = 10s 
*.churnGenerator*.churnRate = 1
*.churnGenerator*.permanentNodes = 1 # number of permanent nodes, ranging from 0 to N. If 0, all the initial nodes can be substituted


[Config test-25-no-churn]
*.underlayConfigurator.churnGeneratorTypes = "oversim.common.NoChurn"
**.targetOverlayTerminalNum = 25
**.partialView.maxSize = 5
**.pbft.blockCapacity = 10
**.pbft.k = 5
**.pbft.clientProb = 1
**.pbft.checkpointPeriod = 8
**.pbft.requestDelay = 5s
**.pbft.replyDelay = 10s
**.pbft.simDuration = 100
**.replicaState.f = 8


[Config test-50-no-churn]
*.underlayConfigurator.churnGeneratorTypes = "oversim.common.NoChurn"
**.targetOverlayTerminalNum = 50
**.partialView.maxSize = 6
**.pbft.blockCapacity = 10
**.pbft.k = 6
**.pbft.clientProb = 0.48
**.pbft.checkpointPeriod = 8
**.pbft.requestDelay = 5s
**.pbft.replyDelay = 10s
**.pbft.simDuration = 100
**.replicaState.f = 16

[Config test-100-no-churn]
*.underlayConfigurator.churnGeneratorTypes = "oversim.common.NoChurn"
**.targetOverlayTerminalNum = 100
**.partialView.maxSize = 7
**.pbft.blockCapacity = 10
**.pbft.k = 7
**.pbft.clientProb = 0.33
**.pbft.checkpointPeriod = 8
**.pbft.requestDelay = 5s
**.pbft.replyDelay = 10s
**.pbft.simDuration = 100
**.replicaState.f = 33







#####################################
#########   BASELINE  ###############
#####################################
[Config baseline-25-no-churn]
*.underlayConfigurator.churnGeneratorTypes = "oversim.common.NoChurn"
**.targetOverlayTerminalNum = 25
**.pbft.blockCapacity = 10
**.pbft.k = 5
**.pbft.clientProb = 1
**.pbft.checkpointPeriod = 8
**.pbft.requestDelay = 5s
**.pbft.replyDelay = 10s 
**.pbft.simDuration = 200
**.replicaState.f = 8
**.partialView.maxSize = 5


[Config baseline-50-no-churn]
*.underlayConfigurator.churnGeneratorTypes = "oversim.common.NoChurn"
**.targetOverlayTerminalNum = 50
**.pbft.blockCapacity = 10
**.pbft.k = 6
**.pbft.clientProb = 0.43
**.pbft.checkpointPeriod = 8
**.pbft.requestDelay = 5s
**.pbft.replyDelay = 10s 
**.pbft.simDuration = 200
**.replicaState.f = 16
**.partialView.maxSize = 6


[Config baseline-75-no-churn]
*.underlayConfigurator.churnGeneratorTypes = "oversim.common.NoChurn"
**.targetOverlayTerminalNum = 75
**.pbft.blockCapacity = 10
**.pbft.k = 7
**.pbft.clientProb = 0.37
**.pbft.checkpointPeriod = 8
**.pbft.requestDelay = 5s
**.pbft.replyDelay = 10s 
**.pbft.simDuration = 200
**.replicaState.f = 24
**.partialView.maxSize = 7


[Config baseline-100-no-churn]
*.underlayConfigurator.churnGeneratorTypes = "oversim.common.NoChurn"
**.targetOverlayTerminalNum = 100
**.pbft.blockCapacity = 10
**.pbft.k = 7
**.pbft.clientProb = 0.25
**.pbft.checkpointPeriod = 8
**.pbft.requestDelay = 5s
**.pbft.replyDelay = 10s 
**.pbft.simDuration = 200
**.replicaState.f = 33
**.partialView.maxSize = 7


##################################################
#########   Increased PartialViews ###############
##################################################
[Config baseline-25-no-churn-pv3]
*.underlayConfigurator.churnGeneratorTypes = "oversim.common.NoChurn"
**.targetOverlayTerminalNum = 25
**.pbft.blockCapacity = 10
**.pbft.k = 8
**.pbft.clientProb = 1
**.pbft.checkpointPeriod = 8
**.pbft.requestDelay = 5s
**.pbft.replyDelay = 10s 
**.pbft.simDuration = 200
**.replicaState.f = 8
**.partialView.maxSize = 5+3


[Config baseline-50-no-churn-pv3]
*.underlayConfigurator.churnGeneratorTypes = "oversim.common.NoChurn"
**.targetOverlayTerminalNum = 50
**.pbft.blockCapacity = 10
**.pbft.k = 6
**.pbft.clientProb = 0.43
**.pbft.checkpointPeriod = 8
**.pbft.requestDelay = 5s
**.pbft.replyDelay = 10s 
**.pbft.simDuration = 200
**.replicaState.f = 16
**.partialView.maxSize = 6+3


[Config baseline-75-no-churn-pv3]
*.underlayConfigurator.churnGeneratorTypes = "oversim.common.NoChurn"
**.targetOverlayTerminalNum = 75
**.pbft.blockCapacity = 10
**.pbft.k = 7
**.pbft.clientProb = 0.33
**.pbft.checkpointPeriod = 8
**.pbft.requestDelay = 5s
**.pbft.replyDelay = 10s 
**.pbft.simDuration = 200
**.replicaState.f = 24
**.partialView.maxSize = 7+3


[Config baseline-100-no-churn-pv3]
*.underlayConfigurator.churnGeneratorTypes = "oversim.common.NoChurn"
**.targetOverlayTerminalNum = 100
**.pbft.blockCapacity = 10
**.pbft.k = 7
**.pbft.clientProb = 0.25
**.pbft.checkpointPeriod = 8
**.pbft.requestDelay = 5s
**.pbft.replyDelay = 10s 
**.pbft.simDuration = 200
**.replicaState.f = 33
**.partialView.maxSize = 7+3


##################################################
#########   Increased JRC = 5 ###############
##################################################
[Config baseline-25-no-churn-jrc5]
*.underlayConfigurator.churnGeneratorTypes = "oversim.common.NoChurn"
**.targetOverlayTerminalNum = 25
**.pbft.blockCapacity = 10
**.pbft.k = 5
**.pbft.clientProb = 1
**.pbft.checkpointPeriod = 8
**.pbft.requestDelay = 5s
**.pbft.replyDelay = 10s 
**.pbft.simDuration = 200
**.replicaState.f = 8
**.partialView.maxSize = 5
**.joinRequestCopies = 5


[Config baseline-50-no-churn-jrc5]
*.underlayConfigurator.churnGeneratorTypes = "oversim.common.NoChurn"
**.targetOverlayTerminalNum = 50
**.pbft.blockCapacity = 10
**.pbft.k = 6
**.pbft.clientProb = 0.43
**.pbft.checkpointPeriod = 8
**.pbft.requestDelay = 5s
**.pbft.replyDelay = 10s 
**.pbft.simDuration = 200
**.replicaState.f = 16
**.partialView.maxSize = 6
**.joinRequestCopies = 5


[Config baseline-75-no-churn-jrc5]
*.underlayConfigurator.churnGeneratorTypes = "oversim.common.NoChurn"
**.targetOverlayTerminalNum = 75
**.pbft.blockCapacity = 10
**.pbft.k = 7
**.pbft.clientProb = 0.37
**.pbft.checkpointPeriod = 8
**.pbft.requestDelay = 5s
**.pbft.replyDelay = 10s 
**.pbft.simDuration = 200
**.replicaState.f = 24
**.partialView.maxSize = 7
**.joinRequestCopies = 5


[Config baseline-100-no-churn-jrc5]
*.underlayConfigurator.churnGeneratorTypes = "oversim.common.NoChurn"
**.targetOverlayTerminalNum = 100
**.pbft.blockCapacity = 10
**.pbft.k = 7
**.pbft.clientProb = 0.25
**.pbft.checkpointPeriod = 8
**.pbft.requestDelay = 5s
**.pbft.replyDelay = 10s 
**.pbft.simDuration = 200
**.replicaState.f = 33
**.partialView.maxSize = 7
**.joinRequestCopies = 5





include ./tinydefault.ini






